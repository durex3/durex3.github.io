---
title: 线程的生命周期
date: 2020-06-10 22:44:23
categories:
- 多线程
tags:
- Java
- 多线程
---
Java中线程的状态分为6种，分别是new、runnable、blocked、waiting、timed_waiting、terminated。

<!-- more -->

## 状态间的转换图示

![thread.jpg](http://ww1.sinaimg.cn/large/b1bbb565gy1gfnl432p35j20vz0ptn0r.jpg)

## 代码演示

new、runnable、terminated状态如下：

```java

	/**
	 * @author gelong
	 * @date 2020/6/11 21:17
	 */
	public class NewRunnableTerminated implements Runnable {
	
	    public static void main(String[] args) throws InterruptedException {
	        Thread thread = new Thread(new NewRunnableTerminated());
	        System.out.println(thread.getState());
	        thread.start();
	        Thread.sleep(1000);
	        System.out.println(thread.getState());
	    }
	
	    @Override
	    public void run() {
	        for (int i = 0; i < 5; i++) {
	            System.out.println(i);
	            try {
	                Thread.sleep(10);
	                System.out.println(Thread.currentThread().getState());
	            } catch (InterruptedException e) {
	                e.printStackTrace();
	            }
	        }
	    }
	}
```

![states.jpg](http://ww1.sinaimg.cn/large/b1bbb565gy1gfooj4kb3hj20ms0c6q31.jpg)

blocked、waiting、timed_waiting状态如下：

```java

	/**
	 * @author gelong
	 * @date 2020/6/11 21:43
	 */
	public class BlockedWaitingTimedWaiting implements Runnable {
	
	    public static void main(String[] args) throws InterruptedException {
	        Runnable runnable = new BlockedWaitingTimedWaiting();
	        Thread thread1 = new Thread(runnable);
	        Thread thread2 = new Thread(runnable);
	        thread1.start();
	        thread2.start();
	        Thread.sleep(500);
	        System.out.println(thread1.getName() + " " + thread1.getState());
	        System.out.println(thread2.getName() + " " + thread2.getState());
	        Thread.sleep(1200);
	        System.out.println(thread1.getName() + " " + thread1.getState());
	    }
	
	    @Override
	    public void run() {
	        sync();
	    }
	
	    private synchronized void sync() {
	        try {
	            Thread.sleep(1000);
	            this.wait();
	        } catch (InterruptedException e) {
	            e.printStackTrace();
	        }
	    }
	}
```

![states2.jpg](http://ww1.sinaimg.cn/large/b1bbb565gy1gfop00l4szj20gt066weh.jpg)