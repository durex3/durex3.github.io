---
title: 快速排序
date: 2019-09-17 21:46:41
categories:
- 排序
tags:
- Java
- 排序
---
&emsp;通过一趟排序将要排序的数据分割成独立的两部分，其中一部分的所有数据都比另外一部分的所有数据都要小，然后再按此方法对这两部分数据分别进行快速排序，整个排序过程可以递归进行，以此达到整个数据变成有序序列。
<!-- more -->
## 1. 基本思想
&emsp;快速排序递归的将子数组arr[left, right]排序，一般是取arr[left]作为切分元素，这个元素就是那个将要被排序的元素，然后调用partition()方法将arr[left]放到一个合适的位置，然后再递归重复上面的过程。所以该方法的关键在于切分。
## 2. 切分方法partition()：
1. 变量j记录最后一个小于arr[left]的元素的下标，

2. 让变量i从下标[start + 1, right]遍历数组元素

3. 如果遍历过程中arr[i] < arr[start]，则让arr[i]和arr[j + 1]进行交换，然后让j++使得arr[left] > arr[start + 1, j]和arr[left] < a[j + 1, i]；如果arr[i] > arr[start]则不用做任何操作继续遍历。
4. 遍历结束后数组arr的元素就会变成：arr[start + 1, j] < arr[left]和a[j + 1, right] > arr[left]。此时再把arr[start]和arr[j]进行交换之后，数组元素就会变成：arr[start, j] < arr[j]和arr[j] < arr[j + 1, right]。这个时候元素arr[left]已经排好了序。
5. 最后把排序好的元素arr[left]所在的下标j返回出去。

&emsp;如图：

![quick_sort.png](http://ww1.sinaimg.cn/large/b1bbb565gy1g72y7j4vjkj207305b0sr.jpg)

## 3. 代码实现
```java

	import java.util.Arrays;

	/**
	 * 快速排序
	 * @author gelong
	 * @date 2019/9/15 21:38
	 */
	public class QuickSort {
	
	    private static void quickSort(int []arr) {
	        quickSort(arr, 0, arr.length - 1);
	    }
	
	    /**
	     * 快速排序[left, right)
	     * @param arr 需要排序的数组
	     * @param left 排序数组的开始下标
	     * @param right 排序数组的结束下标
	     */
	    private static void quickSort(int []arr, int left, int right) {
	        if (left >= right) {
	            return;
	        }
	        int p = partition(arr, left, right);
	        quickSort(arr, left, p - 1);
	        quickSort(arr, p + 1, right);
	    }
	
	    private static int partition(int[] arr, int left, int right) {
	        int j = left;
	        int v = arr[left];
	        for (int i = left + 1; i <= right; i++) {
	            if (arr[i] < v) {
	                swap(arr, i, ++j);
	            }
	        }
	        swap(arr, left, j);
	        return j;
	    }
	
	    private static void swap(int []arr, int i, int j) {
	        int temp = arr[i];
	        arr[i] = arr[j];
	        arr[j] = temp;
	    }
	
	    public static void main(String[] args) {
	        int []arr = {3, 1, 4, 5, 2};
	        QuickSort.quickSort(arr);
	        System.out.println(Arrays.toString(arr));
	    }
	}
```